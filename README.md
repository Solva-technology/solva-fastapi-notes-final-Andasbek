# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: FastAPI Notes App

## –¶–µ–ª—å
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å backend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ **FastAPI** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **PostgreSQL** –∏ **Alembic**.  
–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —ç—Ç–∞–ø–æ–≤:  
1. –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –º–æ–¥–µ–ª–µ–π –∏ –º–æ–∫–æ–≤—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.  
2. –î–æ—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ Docker.  

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –ø–æ–≤—Ç–æ—Ä—è—Ç—å —Å–ª–µ–¥—É—é—â—É—é:

```
app/
‚îÇ‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ endpoints/
‚îÇ   ‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ routers.py
‚îÇ
‚îÇ‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ base.py
‚îÇ   ‚îú‚îÄ‚îÄ config.py
‚îÇ   ‚îú‚îÄ‚îÄ constants.py
‚îÇ   ‚îú‚îÄ‚îÄ db.py
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ
‚îÇ‚îÄ‚îÄ db/
‚îÇ   ‚îú‚îÄ‚îÄ crud/
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ
‚îÇ‚îÄ‚îÄ main.py
```

---
# –ï—Å–ª–∏ –≤—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –∑–∞–¥–∞–Ω–∏–µ —Å –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, —Å—Ä–∞–∑—É –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —á–∞—Å—Ç–∏ 2.

## üîπ –ó–∞–¥–∞–Ω–∏–µ 1: –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –º–æ–∫–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∏
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ **PostgreSQL** —á–µ—Ä–µ–∑ SQLAlchemy.
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `core/config.py`.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ **Alembic**.

#### 2. –ú–æ–¥–µ–ª–∏ (SQLAlchemy)
–í `db/models/` –æ–ø–∏—Å–∞—Ç—å –º–æ–¥–µ–ª—å:
- **Note**:
  - `id: int`
  - `title: str`
  - `content: str`
  - `is_public: bool`
  - `is_completed: bool`
  - `created_at: datetime`

#### 3. –°—Ö–µ–º—ã (Pydantic)
–í `api/schemas/` –æ–ø–∏—Å–∞—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –∏ –≤—ã—Ö–æ–¥–Ω—ã–µ —Å—Ö–µ–º—ã:
- `UserCreate`, `UserRead`
- `NoteCreate`, `NoteRead`, `NoteUpdate`

#### 4. CRUD-–∑–∞–≥–æ—Ç–æ–≤–∫–∏
–í `db/crud/` –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∑–∞–≥–ª—É—à–∫–∏ —Ñ—É–Ω–∫—Ü–∏–π (—Å `pass`):
- `create_note`
- `get_note`
- `get_notes`
- `update_note`
- `delete_note`

#### 5. API (Mock)
–í `api/endpoints/` —Å–æ–∑–¥–∞—Ç—å —Ä–æ—É—Ç–µ—Ä—ã –¥–ª—è `/notes`:
- `POST /notes/` ‚Äî —Å–æ–∑–¥–∞—Ç—å –∑–∞–º–µ—Ç–∫—É
- `GET /notes/` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–º–µ—Ç–æ–∫
- `GET /notes/{note_id}` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∑–∞–º–µ—Ç–∫—É
- `PATCH /notes/{note_id}` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É
- `DELETE /notes/{note_id}` ‚Äî —É–¥–∞–ª–∏—Ç—å –∑–∞–º–µ—Ç–∫—É

‚ö† –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –ø–æ–∫–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `{"message": "not implemented"}`).

#### 6. REST-–ø—Ä–∞–≤–∏–ª–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ HTTP-–º–µ—Ç–æ–¥—ã: `GET`, `POST`, `PATCH`, `DELETE`.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤ (`200`, `201`, `204`, `404`, `422`).

---

## üîπ –ó–∞–¥–∞–Ω–∏–µ 2: –î–æ—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### üéØ –¶–µ–ª—å
–†–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞, –¥–æ–±–∞–≤–∏–≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∏ —Ä–∞–±–æ—Ç—É —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.  
–ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø **—Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–∏–º –∑–∞–º–µ—Ç–∫–∞–º**.  

---

### üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É **[FastAPI Users](https://fastapi-users.github.io/fastapi-users/)**.
- –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥–µ–ª–∏ –∏ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–º–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Alembic).
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ **JWT** (access/refresh —Ç–æ–∫–µ–Ω—ã).

#### 2. –ü—Ä–∏–≤—è–∑–∫–∞ –∑–∞–º–µ—Ç–æ–∫ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –í –º–æ–¥–µ–ª—å `Note` –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `owner_id: UUID` (FK ‚Üí User).
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–º–µ—Ç–∫–∏ –≤ —ç–Ω–¥–ø–æ–∏–Ω—Ç–µ –ø—Ä–æ—Å—Ç–∞–≤–ª—è—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–∞–∫ –≤–ª–∞–¥–µ–ª—å—Ü–∞ (`Depends(current_user)`).
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç:
  - –≤–∏–¥–µ—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏—Ö –∑–∞–º–µ—Ç–æ–∫,
  - –ø–æ–ª—É—á–∞—Ç—å/–∏–∑–º–µ–Ω—è—Ç—å/—É–¥–∞–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞–º–µ—Ç–∫–∏.
- –ß—É–∂–∏–µ –∑–∞–º–µ—Ç–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã (`403 Forbidden` –∏–ª–∏ `404 Not Found`).

#### 3. CRUD
- –í `db/crud/notes.py` –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–ª–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ `owner_id`.
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —á—É–∂–æ–π –∑–∞–º–µ—Ç–∫–µ ‚Äî –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å `HTTPException`.
- –î–æ–±–∞–≤—å—Ç–µ –µ–Ω–¥–ø–æ–∏–Ω—Ç: `GET /notes/global` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–º–µ—Ç–æ–∫ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `is_public`. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—é —á–µ—Ä–µ–∑ query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.
- –î–æ–±–∞–≤—å—Ç–µ –µ–Ω–¥–ø–æ–∏–Ω—Ç –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–º–µ—Ç–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –µ–≥–æ id: `GET /user/notes/{user_id}`
- –£–¥–æ—Å—Ç–æ–≤–µ—Ä—å—Ç–µ—Å—å —á—Ç–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ / —É–¥–∞–ª–µ–Ω–∏–µ / –ø—Ä–æ—Å–º–æ—Ç—Ä, –∑–∞–º–µ—Ç–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.


#### 4. API
- –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã `/notes` –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å **—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**.
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞.

#### 5. Docker
- –î–æ–±–∞–≤–∏—Ç—å `Dockerfile` –∏ `docker-compose.yml` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–º–µ—Å—Ç–µ —Å **PostgreSQL**.
- –î–æ–±–∞–≤–∏—Ç—å `entrypoint.sh`.
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–æ—Å–ª–µ `docker-compose up --build` —Å–µ—Ä–≤–∏—Å –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç.

---

## üìå –†–µ–∑—É–ª—å—Ç–∞—Ç
1. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –ø—Ä–æ–µ–∫—Ç–æ–º.  
2. –†–∞–±–æ—á–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –º–∏–≥—Ä–∞—Ü–∏–∏ Alembic.  
3. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ FastAPI Users.  
4. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤–µ—Å—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ–ø–∏—Å–∞–Ω–Ω—ã–π –≤ CRUD –æ–ø–µ—Ä–∞—Ü–∏—è—Ö.  
5. –ü—Ä–æ–µ–∫—Ç —É–ø–∞–∫–æ–≤–∞–Ω –≤ Docker –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π.  
